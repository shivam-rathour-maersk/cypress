name: Cypress work flow

on: 
  workflow_dispatch:
    inputs:
      environment:
        description: "Select the env."
        required: true
        default: prod

jobs:
  cypress:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Install dependencies
        run: npm ci

      - name: Run Cypress tests
        with:
          start: npm run test
          config-file: cypress.config.js
          browser: chrome
          spec: |
            cypress/cypress/integration/example.feature
